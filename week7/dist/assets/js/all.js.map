{"version":3,"sources":["all.js"],"names":["$","document","ready","setRootStyle","clientWidth","window","innerWidth","style","setProperty","concat","calcRato","scrollTop","durationTime","rate","arguments","length","undefined","Math","ceil","delay","calcDirection","index","height","addEventListener","func","timeout","$this","immediate","$img","this","args","clearTimeout","setTimeout","$texts","each","apply","context","wait","debounce","find","reverse","offsetHeight","attr","data-aos","data-aos-offset","data-aos-duration","data-aos-delay","setAosAttr","$cardContainer","$cards","$noGutters","offset","top","offsetBottom","offsetTop","parallelText","imgRate","pIndex","css","textRate","once"],"mappings":"aAAAA,EAAEC,UAAUC,MAAM,WAChB,SAASC,IADTF,IAADG,EAAiBC,OAAMC,WACtBL,SAASE,gBAAeI,MAAAC,YAAA,uBAAxB,GAAAC,OAAwBL,EAAA,EAAxB,OAUI,SAAAM,EAAAC,EAAqBC,EAArB,GAHKC,EAAA,EAAAC,UAAAC,aAAAC,IAGL,EAAA,EAHK,GAIL,OAAAC,KAAAC,KAAAP,GAAkBQ,EAAAA,IAUtB,SAASC,EAAcC,EAAvB,GALA,OAK+C,EAAAP,UAAAC,aAAAC,IAA/C,GAAA,EAJSC,EAAWN,GAAAA,GAAcW,EAAAA,EADcD,EAAA,GAAA,EAAA,GAAA,EAgD9ChB,OAAAkB,iBAAA,SAfE,SAAYC,EAAZ,EAAA,GAA0B,IAC1BC,EADeC,EAAW,EAAAZ,UAAAC,aAAAC,IAA1B,EAAA,EAAe,GAAWW,IAAA,EAAAb,UAAAC,aAAAC,IAA1B,IAAA,EAEA,OAAA,WACAY,IAAAA,EAASC,KAAAC,EAAThB,UAKDW,IACFM,aAhBDN,GAiBDA,EAAAO,WAMe,WAXVC,EAAOC,KACLlC,EAACmC,MAADC,EAAYN,IAInBO,GAaOV,GAAWH,EAAKW,MAAMC,EAASN,KARnCQ,CAAAnC,IAAAA,IA3C6CH,EAAA,yBASfuC,KAAK,SAR9BC,KAAL,SAAcnB,GACZ,IAAAK,EAAa1B,EAAL6B,MACTY,EAAAf,EAAAJ,SAAA,EAUCI,EAAMgB,KA5BV,SAAA,EAAA,EAAA,EAAA,GACE,MAAO,CADTC,WAAsF,EAAA7B,UAAAC,aAAAC,IAAtF,EAAA,EAA6B,UAAyD4B,kBAAA,EAAA9B,UAAAC,aAAAC,IAAtF,EAAA,EAAgD,IAAsC6B,oBAAA,EAAA/B,UAAAC,aAAAC,IAAtF,EAAA,EAAoE,IAAkB8B,iBAAA,EAAAhC,UAAAC,aAAAC,IAAtF,EAAA,EAAiF,KA4BlE+B,CAAW,UAAWN,EAAc,IAAa,IAARpB,MA+BtDhB,OAAAkB,iBAAY,SArCd,WACE,IAAMyB,EAAAA,EAAc,gCACdC,EAASD,OAAAA,QACfC,EAAOf,KAAK,SAASb,GACnB,IAgBMO,EARJsB,EARIxB,EAAQ1B,EAAE6B,MACVY,EAAAA,EAAef,SACrBA,EAAWqB,EAAWI,SAADC,IAHvBC,EAAA3B,EAAAyB,SAAAC,IAAA9B,EAOFgC,EAAA3C,GAAAA,EAAA0C,IAUUzB,EAAOF,EAAMa,KAAK,6BAClBN,EAASP,EAAMa,KAAK,+BAVvBgB,EAAAA,EAAe5C,EAAA2C,EAAA5B,EAAAJ,SAAA,IAChB4B,EAAexC,EAAAC,EAAA2C,EAArB5B,EAAAJ,SAAA,IACAM,EAAMjB,IAAAA,YAAN,cAAAF,OAAAW,EAAAC,GAAAmC,EAAA,QAEEvB,EAAMP,KAAQ1B,SAAdyD,GACAzD,EAAMsB,MAAMoC,IAAGhC,YAAf,cAAAjB,OAAAW,EAAAqC,GAAAE,EAAA,eAuBEnC,IAAAA,KAAAA,CACDoC,MAHD","file":"all.js","sourcesContent":["$(document).ready(() => {\r\n  function setRootStyle() {\r\n    const clientWidth = window.innerWidth;\r\n    document.documentElement.style.setProperty('--index-image-height', `${clientWidth / 2}px`)\r\n  }\r\n\r\n  // 設定 AOS 參數\r\n  function setAosAttr(action = \"fade-up\",offect = 120, durationTime = 300, delay = \"0\") {\r\n    return {\r\n      \"data-aos\": action,\r\n      \"data-aos-offset\": offect,\r\n      \"data-aos-duration\": durationTime,\r\n      \"data-aos-delay\": delay\r\n    }\r\n  }\r\n\r\n  // 計算比例\r\n  function calcRato(scrollTop, height ,rate = 10) {\r\n    return Math.ceil((scrollTop) / (height / rate))\r\n  }\r\n\r\n  // 判斷方向\r\n  function calcDirection(index, reverse = false) {\r\n    if (!reverse) {\r\n      return (index % 2 === 0) ? 1 : -1;\r\n    } return (index % 2 === 0) ? -1 : 1;\r\n  }\r\n\r\n  // 將每個卡片設定 AOS 參數\r\n  function showCards() {\r\n    const $cardContainer = $('[data-select=\"cards\"]');\r\n    const $cards = $cardContainer.find('.card');\r\n    $cards.each(function(index) {\r\n      const $this = $(this)\r\n      const offsetHeight = $this.height() / 2;\r\n      $this.attr(setAosAttr(\"fade-up\", offsetHeight, 800, index * 100))\r\n    })\r\n  }\r\n\r\n  // 文字視差滾動\r\nfunction parallelText() {\r\n  const $noGutters = $('[data-parallel=\"no-gutters\"]');\r\n  const scrollTop = window.scrollY;\r\n  $noGutters.each(function(index) {\r\n    const $this = $(this);\r\n    const height = $this.height();\r\n    const offsetTop = $this.offset().top;\r\n    const offsetBottom = $this.offset().top + height;\r\n    if(scrollTop > offsetTop && scrollTop <  offsetBottom) {\r\n      const $img = $this.find('[data-parallel=\"img\"] img');\r\n      const $texts = $this.find('[data-parallel=\"text\"] h2 p');\r\n      const imgRate = calcRato(scrollTop - offsetTop, $this.height(), 50);\r\n      const textRate = calcRato(scrollTop - offsetTop, $this.height(), 20);\r\n      $img.css('transform', `translateX(${calcDirection(index) * imgRate}px)`);\r\n      // $text['0'].css('transform', `translateX(${calcDirection(index) * textRate}px)`);\r\n      $texts.each(function(pIndex) {\r\n        $(this).css('transform', `translateX(${calcDirection(pIndex) * textRate}px)`)\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\nfunction debounce(func, wait = 20, immediate = true) {\r\n  var timeout;\r\n  return function() {\r\n    var context = this, args = arguments;\r\n    var later = function() {\r\n      timeout = null;\r\n      func.apply(context, args);\r\n    };\r\n    if (timeout) return\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n    if (immediate) func.apply(context, args);\r\n  };\r\n}\r\n\r\n\r\n\r\n  window.addEventListener('resize', debounce(setRootStyle));\r\n  setRootStyle();\r\n  showCards();\r\n  window.addEventListener('scroll', parallelText);\r\n\r\n  AOS.init({\r\n    once: true,\r\n  });\r\n});\r\n"]}